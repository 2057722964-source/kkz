<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™ç‰¹åˆ«çš„ä½ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
       
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: white;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
            color: #ffb6c1;
            cursor: pointer;
        }
       
        #container {
            position: relative;
            width: 100%;
           
        }
       
        #cat {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: monospace;
            font-size: 24px;
            font-weight: bold;
            white-space: pre;
            text-align: center;
            z-index: 10;
            transition: all 1s ease;
        }
       
        .floating-text {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            color: #ffb6c1;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease;
            padding: 15px 25px;
            border-radius: 10px;
            max-width: 400px;
            word-wrap: break-word;
            pointer-events: none;
        }
       
        #question-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
           
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            z-index: 20;
            background-color: white;
            padding-top: 50px;
        }
       
        #question {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 50px;
            text-align: center;
            margin-top: 150px;
        }
       
        .buttons {
            display: flex;
            gap: 30px;
            margin-top: 30px;
        }
       
        .btn {
            padding: 15px 40px;
            font-size: 28px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            background-color: #ffb6c1;
        }
       
        .btn:hover {
            transform: scale(1.05);
        }
       
        #music-toggle {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            background-color: #ffb6c1;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            z-index: 30;
        }
       
        #click-hint {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: #ffb6c1;
            font-size: 14px;
            z-index: 30;
        }

        #loading-message {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffb6c1;
            font-size: 16px;
            z-index: 30;
            display: none;
        }

        /* è‡ªå®šä¹‰å¼¹çª—æ ·å¼ */
        .custom-alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 182, 193, 0.3);
            text-align: center;
            z-index: 1000;
            border: 3px solid #ffb6c1;
            min-width: 300px;
        }
       
        .custom-alert h3 {
            color: #ffb6c1;
            margin-bottom: 15px;
            font-size: 24px;
        }
       
        .custom-alert p {
            color: #666;
            margin-bottom: 20px;
            font-size: 18px;
        }
       
        .custom-alert button {
            background: #ffb6c1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div id="container">
        <pre id="cat">           /\_/\  
          ( o.o )
           > ^ <  </pre>
       
        <div id="question-container">
            <div id="question">èƒ½ä¸èƒ½è¯·ä½ åšæˆ‘çš„å¯¹è±¡ï¼Ÿ</div>
            <div class="buttons">
                <button id="yes-btn" class="btn">æ„¿æ„</button>
                <button id="no-btn" class="btn">ä¸æ„¿æ„</button>
            </div>
        </div>
       
        <button id="music-toggle">ğŸ”‡ ç‚¹å‡»æ’­æ”¾éŸ³ä¹</button>
        <div id="click-hint">ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®å¼€å§‹</div>
        <div id="loading-message">éŸ³ä¹åŠ è½½ä¸­...</div>
       
        <!-- éšè—çš„éŸ³é¢‘å…ƒç´  - ä½¿ç”¨æ‚¨çš„è‡ªå®šä¹‰éŸ³ä¹ -->
        <audio id="background-music" loop preload="auto">
            <source src="https://github.com/2057722964-source/kkz/blob/main/gift.mp3?raw=true" type="audio/mpeg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
        </audio>
    </div>

    <script>
        // å¥å­åˆ—è¡¨
        const sentences = [
            "æˆ‘å–œæ¬¢ä½ ï¼Œä¹Ÿå–œæ¬¢ä½ ä¸æ³¨æ„æˆ‘æ—¶çš„æ ·å­ã€‚",
            "ä¸ä½ å¯¹è¯å‰ï¼Œæˆ‘ç»ƒä¹ äº†è®¸å¤šéå¼€åœºç™½ã€‚",
            "ä½ ç¬‘èµ·æ¥çš„æ ·å­ï¼Œæ¯”å°ç¯æ›´å®‰ç¨³ã€‚",
            "æˆ‘æƒ³é€ä½ ä¸€æ¯çƒ­èŒ¶ï¼Œæš–ä½ ä¸€å¤©çš„å†·é£ã€‚",
            "ä½ èµ°è¿‘æ—¶ï¼Œæˆ‘ç”šè‡³è¿å‘¼å¸éƒ½æƒ³å¯¹ä½ è°¦è®©ã€‚",
            "æ—¥å­æœ‰é£ä¹Ÿå¥½ï¼Œæœ‰é›¨ä¹Ÿå¥½ï¼Œåªè¦æœ‰ä½ åœ¨ï¼Œæˆ‘å°±å®‰é™ã€‚",
            "ä½ çš„åå­—ï¼Œæ˜¯æˆ‘æ‰€æœ‰ç¬”è®°é‡Œæœ€æƒ³å†™çš„ä¸€è¡Œã€‚",
            "æˆ‘ä¸æ˜¯ä½ è½°è½°çƒˆçƒˆçš„æ•…äº‹ï¼Œåªæ˜¯ä½ å¹³æ·¡æ—¥é‡Œçš„æ¸©æŸ”ã€‚",
            "æˆ‘ä¹ æƒ¯äº†åœ¨æœ‹å‹åœˆé‡Œå–œæ¬¢ä½ ï¼Œä½†ä»ä¸ç‚¹èµã€‚",
            "ä½ ä¸çŸ¥é“ï¼Œé‚£äº›æˆ‘å‡è£…æ— äº‹çš„ç¬‘ï¼Œæ˜¯ä¸ºä½ ä¿ç•™çš„ã€‚",
            "å¶ç„¶å’Œä½ æ“¦è‚©ï¼Œæ˜¯æˆ‘å¿ƒé‡Œå¼€èŠ±çš„ç¬é—´ã€‚",
            "æˆ‘æƒ³å’Œä½ èŠçš„ä¸åªæ˜¯å¤©æ°”ï¼Œè¿˜æœ‰ä½ æ²¡è¯´å‡ºå£çš„æ„¿æœ›ã€‚",
            "å–œæ¬¢ä¸€ä¸ªäººï¼Œå°±æ˜¯æ˜çŸ¥é“èµ°ä¸è¿›å»ï¼Œå´è¿˜æƒ³èµ°è¿‘ã€‚",
            "ä½ åœ¨æˆ‘èº«è¾¹æ—¶ï¼Œå¤©ç©ºä»¿ä½›å®‰é™äº†ä¸‹æ¥ã€‚",
            "æˆ‘æ„¿æ„åšä½ çœ‹ä¸åˆ°çš„é‚£ä¸ªäººï¼Œå´ä¸€ç›´åœ¨ä½ èº«è¾¹ã€‚",
            "æˆ‘çš„ä¸–ç•Œä¸å¤§ï¼Œä½†è£…ä½ æ­£å¥½ã€‚",
            "ä½ è‹¥å‘å…‰ï¼Œæˆ‘å°±åœ¨æ—è¾¹æˆ´å¢¨é•œæ¬£èµã€‚",
            "æˆ‘ä¸æ€¥äºè¡¨ç™½ï¼Œåªæƒ³åšä½ ç”Ÿæ´»é‡Œçš„ä¸€é¢—å°å®‰å®šã€‚",
            "æ¯æ¬¡è§åˆ°ä½ ï¼Œæˆ‘éƒ½å¾ˆæƒ³é—®ä¸€å¥ï¼šä½ åˆšå¥½å¥½å—ï¼Ÿ",
            "æˆ‘å–œæ¬¢ä½ ï¼Œå°±åƒå–œæ¬¢å†¬å¤©çš„æš–é˜³ï¼Œæ‚„æ‚„åœ°æ¥äº†ã€‚",
            "æ¯ä¸€ä¸ªåŠªåŠ›çš„ä»Šå¤©ï¼Œéƒ½ä¼šåœ¨æœªæ¥é—ªé—ªå‘å…‰ã€‚",
            "åˆ«å¿˜äº†ï¼Œä½ æ¯”ä½ æƒ³è±¡çš„è¿˜è¦å¼ºå¤§ã€‚",
            "å¤±è´¥å¹¶ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯æ”¾å¼ƒå°è¯•ã€‚",
            "å“ªæ€•æ…¢ä¸€ç‚¹ï¼Œä¹Ÿæ¯”åœåœ¨åŸåœ°å¥½ã€‚",
            "ä½ å·²ç»èµ°è¿‡å¾ˆå¤šè·¯ï¼Œåˆ«åœåœ¨è¿™é‡Œï¼Œç»§ç»­å‰è¿›ã€‚",
            "æŠŠæ¡ä½ç°åœ¨ï¼Œä½ å°±æ˜¯æœªæ¥çš„è‡ªå·±åœ¨ç­‰ä½ ã€‚",
            "ä»Šå¤©çš„æ±—æ°´ï¼Œæ˜¯æ˜å¤©æˆåŠŸçš„å…‰èŠ’ã€‚",
            "å³ä½¿å‰è·¯æœªçŸ¥ï¼Œä¹Ÿä¸è¦åœæ­¢å‡ºå‘ã€‚",
            "ä½ å€¼å¾—æ‰€æœ‰ç¾å¥½ï¼Œä¹Ÿå€¼å¾—è¢«æ¸©æŸ”ä»¥å¾…ã€‚",
            "æŠ¬å¤´çœ‹çœ‹å¤©ï¼Œå®ƒæ¯”ä½ æƒ³è±¡çš„æ›´å®½æ›´æ˜äº®ã€‚",
            "ä»Šå¤©è¦åŠªåŠ›å“¦",
            "æ˜å¤©è¿˜ä¼šå†è§å—",
            "å¥½å¥½çˆ±è‡ªå·±",
            "åˆ«å®³æ€•æœªæ¥",
            "é˜³å…‰æ€»ä¼šå†æ¬¡ç…§è¿›æ¥",
            "ç›¸ä¿¡ä¸€åˆ‡éƒ½ä¼šå˜å¥½",
            "ä½ å·²ç»å¾ˆæ£’äº†",
            "ç»§ç»­åŠ æ²¹å§",
            "åˆ«å¿˜äº†å¾®ç¬‘",
            "ä¸€åˆ‡éƒ½å€¼å¾—"
        ];

        // å°çŒ«çŠ¶æ€
        const catStates = {
            normal: "           /\\_/\\  \n          ( o.o ) \n           > ^ <  ",
            blink: "           /\\_/\\  \n          ( -.- ) \n           > ^ <  ",
            sad: "           /\\_/\\  \n          ( T.T ) \n           > ^ <  "
        };

        // å…¨å±€å˜é‡
        let displayedSentences = 0;
        let noButtonClicks = 0;
        let backgroundMusic;
        let isMusicPlaying = false;
        let userInteracted = false;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è·å–éŸ³é¢‘å…ƒç´ 
            backgroundMusic = document.getElementById('background-music');
           
            // è®¾ç½®éŸ³ä¹åŠ è½½äº‹ä»¶
            backgroundMusic.addEventListener('loadstart', function() {
                document.getElementById('loading-message').style.display = 'block';
            });
           
            backgroundMusic.addEventListener('canplay', function() {
                document.getElementById('loading-message').style.display = 'none';
            });
           
            // éšæœºæ‰“ä¹±å¥å­é¡ºåº
            shuffleArray(sentences);
           
            // è®¾ç½®ç”¨æˆ·äº¤äº’ç›‘å¬
            setupUserInteraction();
           
            // è®¾ç½®æŒ‰é’®äº‹ä»¶
            document.getElementById('yes-btn').addEventListener('click', onYesClicked);
            document.getElementById('no-btn').addEventListener('click', onNoClicked);
            document.getElementById('music-toggle').addEventListener('click', toggleMusic);
        });

        // è®¾ç½®ç”¨æˆ·äº¤äº’ç›‘å¬
        function setupUserInteraction() {
            // é¡µé¢ç‚¹å‡»äº‹ä»¶ - è§£å†³è‡ªåŠ¨æ’­æ”¾é™åˆ¶
            document.body.addEventListener('click', function() {
                if (!userInteracted) {
                    userInteracted = true;
                    document.getElementById('click-hint').style.display = 'none';
                   
                    // å¼€å§‹æ˜¾ç¤ºå¥å­
                    startShowingSentences();
                   
                    // å°çŒ«çœ¨çœ¼åŠ¨ç”»
                    startCatBlinking();
                }
            });
        }

        // æ‰“ä¹±æ•°ç»„
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // å¼€å§‹æ˜¾ç¤ºå¥å­
        function startShowingSentences() {
            const interval = setInterval(() => {
                if (displayedSentences < sentences.length) {
                    createFloatingText(sentences[displayedSentences]);
                    displayedSentences++;
                } else {
                    clearInterval(interval);
                    showQuestion();
                }
            }, 800);
        }

        // åˆ›å»ºæµ®åŠ¨æ–‡æœ¬
        function createFloatingText(text) {
            const container = document.getElementById('container');
            const textElement = document.createElement('div');
            textElement.className = 'floating-text';
            textElement.textContent = text + "  (=^ï½¥Ï‰ï½¥^=)";
           
            // éšæœºä½ç½®ï¼Œé¿å¼€å°çŒ«åŒºåŸŸ
            let x, y;
            const catRect = document.getElementById('cat').getBoundingClientRect();
            const catArea = {
                left: catRect.left - 80,
                top: catRect.top - 60,
                right: catRect.right + 80,
                bottom: catRect.bottom + 60
            };
           
            do {
                x = Math.random() * (window.innerWidth - 300) + 50;
                y = Math.random() * (window.innerHeight - 100) + 50;
            } while (
                x > catArea.left && x < catArea.right &&
                y > catArea.top && y < catArea.bottom
            );
           
            textElement.style.left = `${x}px`;
            textElement.style.top = `${y}px`;
           
            container.appendChild(textElement);
           
            // æ·¡å…¥åŠ¨ç”»
            setTimeout(() => {
                textElement.style.opacity = '1';
            }, 10);
           
            // æ·¡å‡ºå¹¶ç§»é™¤
            setTimeout(() => {
                textElement.style.opacity = '0';
                setTimeout(() => {
                    if (textElement.parentNode) {
                        container.removeChild(textElement);
                    }
                }, 500);
            }, 3000);
        }

        // å°çŒ«çœ¨çœ¼åŠ¨ç”»
        function startCatBlinking() {
            setInterval(() => {
                const cat = document.getElementById('cat');
                if (cat.textContent === catStates.normal && !document.getElementById('question-container').style.display === 'flex') {
                    cat.textContent = catStates.blink;
                    setTimeout(() => {
                        cat.textContent = catStates.normal;
                    }, 200);
                }
            }, 2000);
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion() {
            const cat = document.getElementById('cat');
            const questionContainer = document.getElementById('question-container');
           
            // ç§»åŠ¨å°çŒ«åˆ°ä¸Šæ–¹ - ä½¿ç”¨æ›´å¯é çš„è®¡ç®—æ–¹æ³•
            const catWidth = 600;
            const catHeight = 200;
            const catX = (window.innerWidth - catWidth) / 2;
            const catY = 100;
           
            cat.style.width = `${catWidth}px`;
            cat.style.height = `${catHeight}px`;
            cat.style.left = `${catX}px`;
            cat.style.top = `${catY}px`;
            cat.style.transform = 'none';
            cat.style.fontSize = '20px';
            cat.style.textAlign = 'center';
           
            // æ˜¾ç¤ºé—®é¢˜
            setTimeout(() => {
                questionContainer.style.display = 'flex';
                // ç¡®ä¿å°çŒ«ä»ç„¶å¯è§
                cat.style.zIndex = '25';
            }, 1000);
        }

        // æ„¿æ„æŒ‰é’®ç‚¹å‡»äº‹ä»¶ - ä¿®æ”¹åçš„ç‰ˆæœ¬
        function onYesClicked() {
            const cat = document.getElementById('cat');
           
            // å°çŒ«çœ¨çœ¼
            cat.textContent = catStates.blink;
           
            setTimeout(() => {
                cat.textContent = catStates.normal;
               
                // æ˜¾ç¤ºè‡ªå®šä¹‰å¼¹çª—
                showCustomAlert();
            }, 500);
        }

        // æ˜¾ç¤ºè‡ªå®šä¹‰å¼¹çª—
        function showCustomAlert() {
            // åˆ›å»ºå¼¹çª—å…ƒç´ 
            const alertDiv = document.createElement('div');
            alertDiv.className = 'custom-alert';
            alertDiv.innerHTML = `
                <h3>ğŸ‰ å¤ªæ£’äº†ï¼</h3>
                <p>å¤ªå¥½äº†ï¼è°¢è°¢ä½ æ„¿æ„ï¼</p>
                <p><small>é¡µé¢å°†åœ¨3ç§’åè‡ªåŠ¨å…³é—­...</small></p>
                <button onclick="closePage()">ç«‹å³å…³é—­</button>
            `;
           
            document.body.appendChild(alertDiv);
           
            // 3ç§’åè‡ªåŠ¨å…³é—­é¡µé¢
            setTimeout(closePage, 3000);
        }

        // å…³é—­é¡µé¢å‡½æ•°
        function closePage() {
            // å…ˆåœæ­¢éŸ³ä¹
            stopMusic();
           
            // å»¶è¿Ÿä¸€ä¸‹ç¡®ä¿éŸ³ä¹åœæ­¢ï¼Œç„¶åå…³é—­çª—å£
            setTimeout(() => {
                // å°è¯•å…³é—­çª—å£ï¼ˆåœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­æœ‰æ•ˆï¼‰
                window.close();
               
                // å¦‚æœæ— æ³•å…³é—­çª—å£ï¼Œåˆ™é‡å®šå‘åˆ°ç©ºç™½é¡µ
                setTimeout(() => {
                    window.location.href = 'about:blank';
                }, 100);
            }, 500);
        }

        // ä¸æ„¿æ„æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        function onNoClicked() {
            noButtonClicks++;
            const noBtn = document.getElementById('no-btn');
            const yesBtn = document.getElementById('yes-btn');
            const cat = document.getElementById('cat');
           
            // å°çŒ«å“­æ³£
            cat.textContent = catStates.sad;
           
            if (noButtonClicks >= 3) {
                // ç§»é™¤ä¸æ„¿æ„æŒ‰é’®
                noBtn.style.display = 'none';
            } else {
                // ç¼©å°ä¸æ„¿æ„æŒ‰é’®
                const currentScale = Math.pow(0.7, noButtonClicks);
                const yesScale = Math.pow(1.3, noButtonClicks);
               
                noBtn.style.transform = `scale(${currentScale})`;
                yesBtn.style.transform = `scale(${yesScale})`;
            }
        }

        // åˆ‡æ¢éŸ³ä¹
        function toggleMusic() {
            if (!userInteracted) {
                // è§¦å‘ç”¨æˆ·äº¤äº’
                document.body.click();
                return;
            }
           
            if (!isMusicPlaying) {
                playMusic();
            } else {
                stopMusic();
            }
        }

        // æ’­æ”¾éŸ³ä¹
        function playMusic() {
            if (backgroundMusic) {
                // æ˜¾ç¤ºåŠ è½½æç¤º
                document.getElementById('loading-message').style.display = 'block';
               
                backgroundMusic.play().then(() => {
                    isMusicPlaying = true;
                    document.getElementById('music-toggle').innerHTML = 'ğŸ”Š åœæ­¢éŸ³ä¹';
                    document.getElementById('loading-message').style.display = 'none';
                }).catch(error => {
                    console.log('éŸ³ä¹æ’­æ”¾å¤±è´¥:', error);
                    document.getElementById('loading-message').style.display = 'none';
                    alert('è¯·ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®åé‡è¯•æ’­æ”¾éŸ³ä¹');
                });
            }
        }

        // åœæ­¢éŸ³ä¹
        function stopMusic() {
            if (backgroundMusic) {
                backgroundMusic.pause();
                backgroundMusic.currentTime = 0;
            }
            isMusicPlaying = false;
            document.getElementById('music-toggle').innerHTML = 'ğŸ”‡ æ’­æ”¾éŸ³ä¹';
        }

        // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°è®¡ç®—å¸ƒå±€
        window.addEventListener('resize', function() {
            if (document.getElementById('question-container').style.display === 'flex') {
                showQuestion(); // é‡æ–°è®¡ç®—å¸ƒå±€
            }
        });

        // ä½¿closePageå‡½æ•°åœ¨å…¨å±€å¯è®¿é—®
        window.closePage = closePage;
    </script>
</body>
</html>
